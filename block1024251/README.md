# 地球再生計画 (Processing/Game)

1024251 山﨑拓己

## 概要

マルチプレイ能力バトルインフレ系ブロック崩しです

公開サーバーと接続して他のプレイヤーと対戦したり、サーバー機能を無効にして地道にゲームをインフレさせたりできます

## ゲームの開始方法

### Windows

`./dist` 内の `launcher.exe` を起動してください

- サーバーとの接続が開始されます

- 接続に成功すると Processing のゲームをエクスポートした `block1024251.exe` が起動します

### launcher.exe を使わない, (macOS, linuxの場合)

プロキシサーバーの起動には node.js が必要です  
ダウンロード: https://nodejs.org/en/download/prebuilt-installer

1. `./node-proxy/` 内でコマンドプロンプトを開き、 `npm install` を実行します  
(お好きなパッケージマネージャーを使用していただいてかまいません)

2. `./node-proxy/` 内で `npm run server` を実行します

3. サーバーが開始され、 `ゲームを起動できます！✨️` と表示されたことを確認してください

4. `./block1024251.pde` を Processing IDE で実行してください

## サーバーに関する注意事項

公開サーバーの仕様上、他のプレイヤーがしばらくアクセスしていなかった場合、接続に1分程度かかる場合があります

`block1024251.pde` 内の `NET_isNetworkEnable` が `true` の場合、ゲームの起動前にnodeサーバーをスタートさせてください

サーバーに接続できない場合は `NET_isNetworkEnable` を `false` にしてください

> 公開サーバーの詳細情報  
> ホスト: wss://proc.uiro.dev  
> 利用技術: Render / node.js / pnpm / express / websocket  
> プロキシ - 公開サーバー間の通信はSSLに対応しています

> プロキシサーバーでは、ポート`8081`を利用しています、変更する場合は `block1024251.pde` と `server.cjs` の上部にあるポート設定を変更してください

## ゲーム内容の詳細

- マルチプレイ能力バトルインフレ系ブロック崩しです

- プレイ時間を考慮して、すぐにエンディングに到達できる程度のパラメーターにしています

- 公開サーバーに接続してオンラインでマルチプレイが可能です

- サーバー機能を無効にして１人で遊ぶこともできます

- エネルギーを大量に(１潤以上)集めると地球が再生されます

- スキル一覧はゲーム内、プロパティの設定は `./src/skills.csv` で管理されています (ゲームバランスが崩れるため変更しないでください)

- 必要のない計算、再描画が極力減るように意識しています  
update(draw)とboot(setup)を分けるなど  
※Processingのdrawとsetupから区別するためにあえて別の名前を使っています

## 開発環境

コメントはvscode拡張機能 `Better Comments` で分類されています

## 命名規則

グローバル変数/関数は`[プレフィックス]_camelCase`という形式で定義しています  
ローカル変数は`_camelCase`という形式で定義しています(先頭アンダースコア)

プレフィックス
- なし → 全体で共有するロジック
- S* → シーンロジック
- V* → ブロック崩しの依存ロジック

## アセット

### エフェクト

効果音ラボ

### BGM

かずち | ビーボルト  
かずち | Flutter  
かずち | 流幻  
かずち | 日没廃校

https://www.khaimmusic.com | New Morning

Ucchii0-うっちーぜろ- | たったそれだけの物語

### フォント

もじワク研究 | 廻想体 ネクスト ユーピー（B）

瀞ノグリッチ黒体

JetBrainsMono

## ライセンス

2024 © famisics (https://me.uiro.dev)
